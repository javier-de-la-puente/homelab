---
all:
  children:
    # OpenWRT router
    openwrt:
      vars:
        ansible_user: root
        ansible_python_interpreter: /usr/bin/python3
      hosts:
        router:
          ansible_host: 10.50.1.1

    # Kubernetes nodes
    k8s:
      vars:
        ansible_user: ubuntu
        ansible_become: true

        # User home directory for kubeconfig
        kube_user: ubuntu
        kube_user_home: /home/ubuntu
        kubeconfig_path: /home/ubuntu/.kube/config

        # Kubernetes
        pod_cidr: "10.244.0.0/16"
        service_cidr: "10.96.0.0/12"
        kubernetes_version: "1.34"

        # Flux configuration
        flux:
          owner: javier-de-la-puente
          repository: homelab
          branch: main
          path: flux/clusters/single-node

      hosts:
        firebata:
          ansible_host: 10.50.60.100

          # Storage disks for Longhorn
          # To add a new disk:
          #   1. Plug the disk into the node
          #   2. Find the device with: lsblk
          #   3. Add entry below with unique label
          #   4. Run: ansible-playbook -i inventory/hosts.yml add-storage.yaml
          #
          # Options:
          #   device:     Block device path (required)
          #   mount_path: Where to mount (required)
          #   label:      Filesystem label, used by Longhorn (required)
          #   fstype:     Filesystem type (default: ext4)
          #   force:      Overwrite existing filesystem (default: false)
          storage_disks:
            # 1.8TB disk for Nextcloud and large volumes
            - device: /dev/sde1
              mount_path: /mnt/longhorn-data
              fstype: ext4
              label: longhorn-data
